<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="./css/comm.css" />
		<script type="text/javascript" src="./js/jquery-1.11.0.min.js" ></script>
		<script type="text/javascript" src="../node_modules/socket.io/node_modules/socket.io-client/socket.io.js" ></script>
		<script type="text/javascript" src="./funs/comm/web.comm.js" ></script>
		<script type="text/javascript" src="./funs/ui/web.ui.js" ></script>
		<script type="text/javascript" src="./funs/user/web.user.js" ></script>
		<script type="text/javascript" src="./funs/socket/web.socket.js" ></script>
		<script type="text/javascript" src="./funs/001/web.001.js" ></script>
		<script type="text/javascript" src="./funs/002/web.002.js" ></script>
	</head>
	<body>

		<!-- 登录和注册 -->
		<div class="UI entryUI" >
			<h1>Welcome!</h1>
			<form id="enteny" >
				<input id="account" type="text" value="" name="account" placeholder="请输入" />
				<input id="btn" type="button" value="确认" />
			</form>
		</div>

		<!-- 登录和注册 -->
		<div class="UI userUI">
			<div class="icon">
				<img src="./img/avatar.jpg" />
			</div>
			<div class="info">
				<p class="account">
					<span class="name">-</span>
					<a class="logout" href="javascript:;" >注销</a>
				</p>
				<p class="sum">0</p>
			</div>
			<div class="clear"></div>
		</div>

		<div class="clear"></div>
	
		<!-- 所有功能列表 -->
		<div class="allUI">

			<!-- // -->
			<div class="itemUI" key="ux001">
				<div class="area">
					<p class="name">#001 - Guess blindly</p>
					<p class="explain">新平台后台的逆地理编码有问题 location:test priority:critical status:new type:bug</p>
					<a class="close" href="javascript:;" >退出</a>
					<div class="line"></div>
				</div>
			</div>

			<!-- // -->
			<div class="itemUI" key="ux002">
				<div class="area">
					<p class="name">#002 - On-hook</p>
					<p class="explain">终端39E2800455在上周日的一段5分钟的行程飞出了5万公里，超过赤道周长</p>
					<a class="close" href="javascript:;" >退出</a>
					<div class="line"></div>
				</div>
			</div>

			<!-- // -->
			<div class="itemUI">
				<div class="area">
					<p class="name">#998</p>
					<p class="explain">Geocoding请求OVER_QUERY_LIMIT的情况仍旧非常严重 location:live type:enhancement</p>
					<a class="close" href="javascript:;" >退出</a>
				</div>
			</div>
			<div class="clear"></div>
		</div>

		<!-- 001 - 内容 -->
		<div class="contentUI guessblindlyUI" id="guess_blindly" >
			<div class="area">
				<div class="hide" id="qb_template" href="javascript:;" title="-" ><em></em><span>-</span></div>
			</div>
			<div class="warn">● Integral problem, can not participate in!</div>
		</div>

		<!-- 002 - 内容 -->
		<div class="contentUI ux002UI" id="ux002" >
			<div class="area"><span class="line"></span></div>
			<div class="panel">
				<span class="number">0</span>
				<a href="javascript:;" >taken</a>
			</div>
		</div>

		<!-- 加载界面中 -->
		<div class="loading hide" id="loading" >加载界面中...</div>

		<script type="text/javascript">

			// 全部功能
			var funs = {};

			// 引用公共功能
			funs.socket = new Socket();
			funs.comm = new Comm();
			funs.ui = new UI();
			funs.user = new User();

			// 登录后执行
			funs.user.entrySuccess(function(){

				// 引用模块功能
				funs.ux001 = new Ux001();
				funs.ux002 = new Ux002();
			});

			// 注销后执行
			funs.user.logoutSuccess(function(){
				funs.ux002.login();
			});



			// 如果有缓存则登录，没有则打开登录界面
			if ( !funs.user.getUserByCookie() ) {
				funs.user.setEntryUI();
			}

			// 初始化功能进入按钮
			funs.ui.initFunsBtn();

		</script>
	</body>
</html>
